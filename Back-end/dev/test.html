<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <title>ÄÄƒng kÃ½ tÃ i khoáº£n</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; 
           margin: 40px auto; max-width: 400px; padding: 0 12px; }
    h1 { text-align: center; }
    input, button { width: 100%; padding: 10px; margin-top: 10px; font-size: 16px; }
    button { background: #000; color: #fff; border: none; border-radius: 8px; cursor: pointer; }
    button:hover { background: #222; }
    pre { background: #f7f7f7; border: 1px solid #ddd; padding: 10px; border-radius: 8px; margin-top: 12px; white-space: pre-wrap; word-break: break-word; }
    label { font-weight: 500; margin-top: 12px; display: block; }
    small { color: #666; }
  </style>
</head>
<body>
  <h1>ğŸ“ ÄÄƒng kÃ½ tÃ i khoáº£n</h1>
  
  <label>API Base URL:</label>
  <input id="api" value="http://localhost:3000" />
  <small>Thay báº±ng IP náº¿u backend cháº¡y trÃªn mÃ¡y khÃ¡c.</small>

  <label>TÃªn Ä‘Äƒng nháº­p (user_id):</label>
  <input id="user_id" placeholder="vd: khoa" />

  <label>Máº­t kháº©u:</label>
  <input id="password" type="password" placeholder="Nháº­p máº­t kháº©u" />

  <button onclick="register()">ÄÄƒng kÃ½</button>

  <pre id="result"></pre>

  <script>
    const el = id => document.getElementById(id);
    async function register() {
      const API = el("api").value.replace(/\/+$/, "");
      const user_id = el("user_id").value.trim();
      const password = el("password").value.trim();
      if (!user_id || !password) {
        el("result").textContent = "âš ï¸ Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ user_id vÃ  password.";
        return;
      }

      const res = await fetch(`${API}/api/register`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ user_id, password })
      });

      try {
        const data = await res.json();
        el("result").textContent = JSON.stringify(data, null, 2);
      } catch {
        el("result").textContent = "Lá»—i pháº£n há»“i tá»« server.";
      }
    }
  </script>
</body>
</html>